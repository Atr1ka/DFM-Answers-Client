javascript:function main(){if("/live-participant-new.php"===window.location.pathname){let e,t=prompt("mode: type '0' for infinte points, '1' for immediately answer all questions without infinite points, '2' for answer with custom delay");2==t&&(e=prompt("enter delay time in ms (1000ms = 1s)")),0==t&&(e=prompt("enter delay between submitting answers in ms \n(note do not do anything too low (200ms is recommended) as each response takes a while and may well crash the live if too fast. \nIf it gets too heavy reload (or just close if it freezes) the page to stop)")),dfmLive(t,e)}else submit(JSON.stringify(question))}function type(e,t,r,n,s="="){if(void 0===a)var a;switch(t){case"input":$("input[name="+n+"]").val(r);break;case"exp":a=MathQuill.MathField($(".eqnsolutions-answerinput")[n]);try{a.latex("")}catch(e){a=MathQuill.MathField($("#expression-answer")[n]),a.latex("")}a.write(r),"="!==s&&($(".solution-rows").find($("select"))[n].value=s);break;case"coords":a=MathQuill.MathField($(".expression-answer-"+n)[0]),a.latex(""),a.write(r);break;case"fraction":try{$("input[name="+n+"]").val(r)}catch(t){alert(e)}break;case"mcq":$('input:radio[name="multiplechoice-answer[]"][value="'+r+'"]').attr("checked",!0);break;case"vector":a=MathQuill.MathField($(".expression-answer-cell")[n]),a.latex(""),a.write(r);break;case"stdform":a=MathQuill.MathField($(".expression-answer-"+n)[0]),a.latex(""),a.write(r);break;case"list":$('input[name="list-answer"]').val(r);break;case"ordered":let o=[];for(let e=0;e<r.length;++e)o[e]=r.indexOf(e+1);$("#question-form-1").find(".answer-content").children().each(function(e){$(this).data("order",o[e]+1)}),alert("For these type of questions, it has worked and your answer will be marked correct but it will not move the items around on screen due to how it is written.");break;case"shape":$(".question-canvas").data("tempShape",r),$(".question-canvas").dfmCanvas("finishDrawing");break;case"ratio":$(".answer-content").find(".expression-answer-ratio").each(function(e){$(this).algebraicInput("latex",r[e])})}}function clearMQC(){for(let e=0;e<$('input:radio[name="multiplechoice-answer[]"]').length;++e)$('input:radio[name="multiplechoice-answer[]"][value="'+e+'"]').attr("checked",!1)}function cleanJSON(e){let t="";for(i=0;i<e.length;++i)'"'==e.at(i)?t+='"':t+=e.at(i);return t}function submit(e){$.ajax({type:"POST",url:"https://atrika.herokuapp.com/api/world",contentType:"application/json",processData:!1,cache:!1,data:JSON.stringify({qJSON:cleanJSON(e)}),success:function(e){if(e=JSON.parse(e),console.log(e),0==e.typeCount)alert(e.alertString);else for("function"==typeof MathQuill.getInterface&&(MathQuill=MathQuill.getInterface(1)),"multiplechoice"===question.answer.type&&clearMQC(),i=0;i<e.typeCount;++i)type(e.alertSting,e.toType[i].type,e.toType[i].text,e.toType[i].pos,e.toType[i].sign)},error:function(e,t,r){alert("error:"+t+" "+r)}})}function dfmLive(t,r){let n;if(correctMessages[0]="You may have hacked, but well done still",conn2.onmessage=function(e){console.log(e.data);var s=JSON.parse(e.data);if("evicted"===s.status)$("#game-area").html("<h1>Your name was considered too inappropriate.</h1><br><br><a href='live-joinauthenticate-new.php?gid="+participant.gid+"' class='very-large-button'>Join Again</a>"),$(".hub-bg").animate({backgroundColor:incorrectColor},1e3);else if("question"===s.status){if(x=!1,"multiplechoice"===s.question.answer.type)n=s.question.answer.correctAnswer.toString();else if("eqnsolutions"===s.question.answer.type)n=s.question.answer.correctAnswer;else if("table"===s.question.answer.type){n=s.question.answer.correctAnswer;for(let e=0;e<n.length;++e)for(let t=0;t<n[e].length;++t)""!==n[e][t]&&(n[e][t]=n[e][t].split(", "));console.log(n)}else if("fraction"===s.question.answer.type)n=s.question.answer.correctAnswer;else if("desmos_line"===s.question.answer.type||"desmos"===s.question.answer.type)n=s.question.answer.correctAnswer;else if("object"==typeof s.question.answer.correctAnswer&&"main"in s.question.answer.correctAnswer&&!("power"in s.question.answer.correctAnswer))n=s.question.answer.correctAnswer.main;else if("numeric"===s.question.answer.type){n=[];let t=s.question.answer.data.rows[0].accuracy;for(e of("range"==t&&(t="from"),"awrt"==t&&(t="exact"),s.question.answer.correctAnswer))n.push(e[t].toString())}else if("expression"===s.question.answer.type){let e=s.question.answer.data.rows[0].accuracy;"range"==e&&(e="from"),"awrt"==e&&(e="exact"),n=s.question.answer.correctAnswer[0][e]}else if("textual"===s.question.answer.type)for(e of(n=[""],s.question.answer.correctAnswer)){let t=e.split(" OR ");n[0]+=t[0]+" "}else n=s.question.answer.correctAnswer;x=!0,1==t?conn2.send(JSON.stringify({status:"submitAnswer",pid:participant.pid,data:n,qid:s.question.id})):2==t?setTimeout(e=>{conn2.send(JSON.stringify({status:"submitAnswer",pid:participant.pid,data:n,qid:s.question.id}))},r):0==t&&setInterval(e=>{x&&conn2.send(JSON.stringify({status:"submitAnswer",pid:participant.pid,data:n,qid:s.question.id}))},r)}else if("lookAtScreen"===s.status)$(".hub-bg").animate({backgroundColor:lookColor},1e3),1==game.studentdisplay?($("#game-area").html("<h1>Please listen to your teacher.</h1><p style='font-size:22px'>Correct Answer: <strong>"+showHTMLAnswer(s.question,s.question.answer.correctAnswer,!1)+"</strong></p>"),MathJax.typeset()):$("#game-area").html("<h1>LOOK AT THE SCREEN</h1>"),console.log(JSON.stringify(s));else if("alreadyanswered"===s.status)$(".hub-bg").animate({backgroundColor:lookColor},1e3),$("#game-area").html("<h1>You've already answered the current question.</h1>");else if("error"===s.status)$("#game-area").html("<h1>"+s.message+"</h1>"),$(".hub-bg").animate({backgroundColor:incorrectColor},1e3);else if("joined"===s.status)console.log("Participant id: "+participant.pid),1===s.gameStatus&&$("#game-area").html("<h1>Ready to Go! Waiting for the game to start...</h1><br><br><img src='/homework/img/rolling.svg'>"),$("#error-window").slideUp();else if("completed"===s.status)gameEnded=!0,conn2.close(),clearInterval(pulseTimerId),$(".hub-bg").animate({backgroundColor:correctColor},1e3),$("#game-area").html("<h1>How did you do?</h1><h2 class='pStanding'>"+ordinal_suffix_of(s.rank)+"</h2><h3 class='pStanding'><strong>Score:</strong> "+s.score+" points</h3>");else if("answerResponse"===s.status){currentDisplay=2;var a=s.data;console.log(JSON.stringify(a)),s.isCorrect?$("#game-area").html("<h1 style='display:none'>"+correctMessages[Math.floor(Math.random()*correctMessages.length)]+"</h1><br><br><img src='/homework/img/live-correct.png'><br><br><small id='perfInfo' style='font-size:14px;font-weight:normal;color:#fff'></small>"):$("#game-area").html("<h1 style='display:none'>"+incorrectMessages[Math.floor(Math.random()*incorrectMessages.length)]+"</h1><br><br><img src='/homework/img/live-incorrect.png'><br><br><small style='font-size:14px;font-weight:normal;color:#fff'>(If for any reason the next question on the board doesn't appear, just refresh this page)</small>"),$("#perfInfo").html("<strong>Time:</strong> "+Math.round(s.time)+" secs<br><strong>Points for this question:</strong> "+s.points+"<br><strong>Total points:</strong> "+s.totalPoints),$(".hub-bg").animate({backgroundColor:s.isCorrect?correctColor:incorrectColor},1e3),$("#game-area h1").slideDown()}},void 0!==$("#game-area").data("question")){if("multiplechoice"===question.answer.type)n=question.answer.correctAnswer.toString();else if("eqnsolutions"===question.answer.type)n=question.answer.correctAnswer;else if("fraction"===question.answer.type)n=question.answer.correctAnswer;else if("table"===question.answer.type){n=question.answer.correctAnswer;for(let e=0;e<n.length;++e)for(let t=0;t<n[e].length;++t)""!==n[e][t]&&(n[e][t]=n[e][t].split(", "));console.log(n)}else if("desmos_line"===question.answer.type||"desmos"===question.answer.type)n=question.answer.correctAnswer;else if("object"==typeof question.answer.correctAnswer&&"main"in question.answer.correctAnswer&&!("power"in question.answer.correctAnswer))n=question.answer.correctAnswer.main;else if("numeric"===question.answer.type){n=[];let t=question.answer.data.rows[0].accuracy;for(e of("range"==t&&(t="from"),"awrt"==t&&(t="exact"),question.answer.correctAnswer))n.push(e[t].toString())}else if("expression"===question.answer.type){let e=question.answer.data.rows[0].accuracy;"range"==e&&(e="from"),"awrt"==e&&(e="exact"),n=question.answer.correctAnswer[0][e]}else if("textual"===question.answer.type)for(e of(n=[""],msg.question.answer.correctAnswer)){let t=e.split(" OR ");n[0]+=t[0]+" "}else n=question.answer.correctAnswer.toString();x=!0,1==t?conn2.send(JSON.stringify({status:"submitAnswer",pid:participant.pid,data:n,qid:question.id})):2==t?setTimeout(e=>{conn2.send(JSON.stringify({status:"submitAnswer",pid:participant.pid,data:n,qid:question.id}))},r):0==t&&setInterval(e=>{x&&conn2.send(JSON.stringify({status:"submitAnswer",pid:participant.pid,data:n,qid:question.id}))},50)}}main();